[
  {
    "cmd": [
      "python",
      "-u",
      "[SLAVE_BUILD]/src/build/android/test_runner.py",
      "gtest",
      "-s",
      "example_gtest_suite",
      "--enable-platform-mode",
      "-e",
      "remote_device",
      "--api-key-file",
      "[BUILD]/site_config/.amp_api_key",
      "--api-secret-file",
      "[BUILD]/site_config/.amp_api_secret",
      "--api-address",
      "127.0.0.1",
      "--api-port",
      "80",
      "--api-protocol",
      "http",
      "--remote-device",
      "SampleDevice",
      "--remote-device-os",
      "SampleDeviceOS",
      "--trigger",
      "/path/to/tmp/json",
      "--verbose"
    ],
    "name": "[trigger] example_gtest_suite",
    "~followup_annotations": [
      "@@@STEP_TEXT@on Foo Fone 1.2.3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"env\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"device\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"brand\": \"Foo\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"name\": \"Fone\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"os_version\": \"1.2.3\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "\nimport shutil\nimport sys\nshutil.copy(sys.argv[1], sys.argv[2])\n",
      "{\"env\": {\"device\": {\"brand\": \"Foo\", \"name\": \"Fone\", \"os_version\": \"1.2.3\"}}}",
      "[TMP_BASE]/amp_trigger_tmp_1/example_gtest_suite.json"
    ],
    "name": "[trigger] save example_gtest_suite data"
  },
  {
    "cmd": [
      "python",
      "-u",
      "\nimport shutil\nimport sys\nshutil.copy(sys.argv[1], sys.argv[2])\n",
      "[TMP_BASE]/amp_trigger_tmp_1/example_gtest_suite.json",
      "/path/to/tmp/json"
    ],
    "name": "[collect] load example_gtest_suite data",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"env\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"device\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"brand\": \"Foo\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"name\": \"Fone\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"os_version\": \"1.2.3\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "[SLAVE_BUILD]/src/build/android/test_runner.py",
      "gtest",
      "-s",
      "example_gtest_suite",
      "--enable-platform-mode",
      "-e",
      "remote_device",
      "--api-key-file",
      "[BUILD]/site_config/.amp_api_key",
      "--api-secret-file",
      "[BUILD]/site_config/.amp_api_secret",
      "--api-address",
      "127.0.0.1",
      "--api-port",
      "80",
      "--api-protocol",
      "http",
      "--collect",
      "[TMP_BASE]/amp_trigger_tmp_1/example_gtest_suite.json",
      "--verbose"
    ],
    "name": "[collect] example_gtest_suite",
    "~followup_annotations": [
      "@@@STEP_TEXT@on Foo Fone 1.2.3@@@"
    ]
  }
]